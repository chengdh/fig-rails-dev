%table.table.table-condensed.table-bordered
  %thead
    %tr
      %th{:colspan => 2,:style => "text-align : center;vertical-align : middle;"}= resource.name
    %tr
      %th= resource.org
      %th= resource.mth

%table#salary_table_form_table.table.table-condensed.table-bordered
  = resource.salary_item_header.table_header.html_safe
  %tr
    - SalaryItemHeader.first.salary_items.where(is_calculate: false).each do |item|
      %th{:style => "text-align : center;vertical-align : middle;"}= item.name

  - resource.salary_table_lines.each_with_index do |line,idx|
    %tr
      %th{:style => "text-align : center;vertical-align : middle;"}= idx+1
      - resource.salary_item_header.salary_items.where(is_active: true).each do |item|
        %td{:style => "text-align : center;vertical-align : middle;"}
          - if item.item_type.eql?("employee_item")
            = item.employee.try(item.formula.to_sym)

          - if item.item_type.eql?("pay_item") or item.item_type.eql?('deduct_item')
            = item.code
